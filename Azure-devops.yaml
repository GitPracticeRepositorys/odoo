trigger:
  branches:
    exclude:
      - '16.0'

jobs:
  - job: BuildAndPushDockerImage
    displayName: 'Build and Push Docker Image'
    pool:
      vmImage: 'ubuntu-latest'

    steps:
      - checkout: self

      - task: Docker@2
        displayName: 'Build and Push'
        inputs:
          containerRegistry: 'Docker-Hub-Connection'
          repository: 'shivakrishna99/az-Odoo'
          command: 'buildAndPush'
          Dockerfile: '**/Dockerfile'
          buildContext: '.'
          tags: '$(IMAGE_TAG)'
